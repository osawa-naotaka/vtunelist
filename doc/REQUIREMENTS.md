# VtuneList 要求仕様書

## 1. 序論

### 1.1 目的
本文書は、「VtuneList」システムの開発に必要な要求事項を定義するものである。システム開発者、Vtuberユーザー、およびリスナーユーザーに対して、システムの機能と制約を明確に伝えることを目的とする。

### 1.2 対象範囲
本システムは、Vtuberが歌枠配信で使用する楽曲リストを管理・公開するためのWebアプリケーションである。Google Spreadsheetをデータソースとし、GitHub PagesによるWebサイトとして提供される。

### 1.3 定義と略語
- **Vtuber**: バーチャルYouTuber、配信者
- **歌枠**: 歌を歌う配信枠
- **リスナー**: 配信を視聴するユーザー
- **CSV**: Comma-Separated Values、カンマ区切りテキストファイル形式
- **JSON**: JavaScript Object Notation、データ交換フォーマット

## 2. 全体的記述

### 2.1 製品の展望
VtuneListは、Vtuberの歌枠配信をより効率的に運営するためのツールである。技術的知識が少ないVtuberでも簡単に自分の歌える楽曲リストをWebサイトとして公開でき、リスナーは使いやすいインターフェースで曲を検索・フィルタリングできる。完全無料で運用可能であり、Google SpreadsheetとGitHubの無料サービスのみで構築される。

### 2.2 製品の機能
1. 楽曲リストのWebサイト公開
2. ジャンル別の楽曲管理
3. 楽曲の検索機能
4. ジャンルによるフィルタリング機能
5. 曲名・アーティスト名によるソート機能
6. 最終更新日時表示
7. Google Spreadsheetによる楽曲データ管理
8. GitHub Actionsによる自動サイト生成・デプロイ

### 2.3 ユーザークラスと特性

#### 2.3.1 Vtuber（主要ユーザー）
- 技術レベル: 非エンジニア
- 要求: 簡単操作、無料運用、安全性
- 使用頻度: 週1〜2回程度の楽曲リスト更新

#### 2.3.2 リスナー（二次ユーザー）
- 技術レベル: 一般ユーザー
- 要求: 使いやすい検索・フィルタ機能
- 使用頻度: 配信中またはリクエスト準備時

### 2.4 運用環境

#### 2.4.1 ハードウェア環境
- Vtuberユーザー: インターネット接続可能なPC
- リスナーユーザー: PC、タブレット、スマートフォンなどのWebブラウザが利用可能な端末

#### 2.4.2 ソフトウェア環境
- Vtuberユーザー: 
  - Webブラウザ（Chrome, Firefox, Safari, Edgeなど最新版）
  - Googleアカウント（Spreadsheet用）
  - GitHubアカウント
- リスナーユーザー:
  - Webブラウザ（Chrome, Firefox, Safari, Edgeなど最新版）

### 2.5 設計と実装の制約
- GitHub Pages: 1GB容量制限
- GitHub Actions: 月2000分の実行時間制限
- Spreadsheet: CSVとして公開時はインターネット上で閲覧可能（パブリック）
- 静的Webサイトのみ（サーバーサイド処理なし）

### 2.6 前提条件
- Vtuberユーザーは基本的なSpreadsheetの操作ができること
- インターネット接続が利用可能であること
- 使用する楽曲の著作権・利用権に関する法的責任はユーザーが負うこと

## 3. 要求仕様

### 3.1 機能要件

#### 3.1.1 楽曲リスト管理

##### FR-1: Spreadsheetによる楽曲データ管理
- 優先度: 必須
- 説明: VtuberはGoogle Spreadsheetで楽曲データを管理できること
- 詳細:
  - ジャンル別にシートを分けて管理できること
  - 最低限、曲名、アーティスト、メモ（任意）の項目を含むこと
  - 任意の列を追加できること

##### FR-2: 楽曲リスト公開
- 優先度: 必須
- 説明: SpreadsheetのデータをWebサイトとして公開できること
- 詳細:
  - 各シートのデータがジャンル別カテゴリとして表示されること
  - 最終更新日時が表示されること
  - レスポンシブデザインでモバイル端末でも閲覧可能なこと

#### 3.1.2 検索・フィルタリング機能

##### FR-3: 楽曲検索
- 優先度: 必須
- 説明: リスナーが曲名・アーティスト名で楽曲を検索できること
- 詳細:
  - 部分一致検索に対応すること
  - 大文字小文字を区別しない検索であること
  - 検索結果をリアルタイムで表示すること

##### FR-4: ジャンルフィルタリング
- 優先度: 必須
- 説明: リスナーがジャンル（カテゴリ）でリストをフィルタリングできること
- 詳細:
  - 複数のジャンルを選択できること
  - 選択解除で全ジャンル表示に戻ること

##### FR-5: ソート機能
- 優先度: 必須
- 説明: 曲名・アーティスト名でリストをソートできること
- 詳細:
  - 昇順・降順の切り替えが可能なこと

#### 3.1.3 システム管理

##### FR-6: サイト更新
- 優先度: 必須
- 説明: VtuberがSpreadsheetの更新をWebサイトに反映できること
- 詳細:
  - GitHub Actionsのワークフローを手動で実行できること
  - 更新プロセスが3-5分以内に完了すること
  - 更新に成功・失敗した場合に通知があること

##### FR-7: 初期セットアップ
- 優先度: 必須
- 説明: Vtuberが簡単にシステムをセットアップできること
- 詳細:
  - テンプレートリポジトリから複製できること
  - 設定ファイル（config.yml）の編集で基本設定が完了すること
  - GitHub Pagesの有効化手順が明確であること

### 3.2 非機能要件

#### 3.2.1 使用性

##### NFR-1: ユーザビリティ
- 優先度: 必須
- 説明: 非エンジニアのVtuberでも操作可能な簡易さを実現すること
- 詳細:
  - 直感的なUI/UXデザイン
  - 明確な操作ガイドの提供
  - エラー発生時の分かりやすいメッセージ表示

##### NFR-2: アクセシビリティ
- 優先度: 高
- 説明: 多様なユーザーが利用可能なアクセシビリティを確保すること
- 詳細:
  - WCAG 2.1のAA基準を満たすこと
  - スクリーンリーダー対応
  - キーボード操作のサポート

#### 3.2.2 信頼性

##### NFR-3: 可用性
- 優先度: 必須
- 説明: 高い可用性を維持すること
- 詳細:
  - GitHub Pages、Spreadsheetの可用性に依存
  - 99.9%以上のアップタイムを目標とする

##### NFR-4: データ保全性
- 優先度: 必須
- 説明: データの正確性と一貫性を確保すること
- 詳細:
  - データ変換処理におけるエラーチェック
  - 不正なデータ形式の検出と通知

#### 3.2.3 性能

##### NFR-5: 応答時間
- 優先度: 高
- 説明: ページロードと検索機能の高速応答を実現すること
- 詳細:
  - 初期ページロード: 2秒以内
  - 検索・フィルタリング: 0.5秒以内のレスポンス
  - 楽曲データ100件以上でも性能劣化がないこと

##### NFR-6: スケーラビリティ
- 優先度: 中
- 説明: 楽曲データ増加に対応できる拡張性を確保すること
- 詳細:
  - 最低1000曲までのデータに対応
  - 複数ジャンルの追加に対応

#### 3.2.4 セキュリティ

##### NFR-7: アクセス制御
- 優先度: 必須
- 説明: 適切なアクセス制御を実装すること
- 詳細:
  - Spreadsheetの編集権限は管理者のみに制限
  - GitHub Actionsの実行権限はリポジトリオーナーのみに制限

##### NFR-8: データ保護
- 優先度: 高
- 説明: 公開するデータの適切な保護を行うこと
- 詳細:
  - 公開URLの適切な管理
  - 個人情報や機密情報を含まない楽曲データ構造の設計

#### 3.2.5 保守性

##### NFR-9: 拡張性
- 優先度: 中
- 説明: 将来的な機能拡張を容易にすること
- 詳細:
  - モジュラー設計
  - 設定ファイルによる拡張ポイントの提供
  - 明確なコードドキュメント

##### NFR-10: テスト容易性
- 優先度: 中
- 説明: コードのテストを容易にする設計を採用すること
- 詳細:
  - 単体テスト可能なコンポーネント設計
  - テスト自動化の仕組み

## 4. データモデル

### 4.1 Spreadsheetデータ構造
各シート（ジャンル）は以下の基本構造を持つ:

| フィールド名 | データ型 | 必須  | 説明        |
|--------|------|-----|-----------|
| 楽曲名    | テキスト | はい  | 曲のタイトル    |
| アーティスト | テキスト | はい  | 曲のアーティスト名 |
| メモ     | テキスト | いいえ | 備考、コメント等  |

### 4.2 JSONデータ構造
Webサイトで使用されるJSONデータの構造:

```json
{ "categories": { "ジャンル名1": [ { "title": "曲名", "artist": "アーティスト名", "note": "メモ" } ] }, "updated_at": "更新日時（ISO形式）" }
```

### 4.3 設定ファイル構造
システム設定を保存するconfig.ymlの構造:

```yaml
title: "サイトタイトル"
description: "サイト説明"
csv:
  - url: "CSV公開URL1"
  - url: "CSV公開URL2"
theme: "テーマ名"
```


## 5. インターフェース要件

### 5.1 ユーザーインターフェース

#### 5.1.1 Webサイト

##### UI-1: ホーム画面
- 必須要素:
    - サイトタイトル・説明
    - 検索ボックス
    - ジャンル選択フィルター
    - ソートオプション
    - 最終更新日時
    - 楽曲リスト表示エリア

##### UI-2: 楽曲リスト表示
- 必須要素:
    - 曲名
    - アーティスト名
    - メモ（存在する場合）
    - ジャンル表示
- オプション要素:
    - カード形式/リスト形式の切り替え

##### UI-3: モバイル対応
- 全画面要素がモバイル画面で適切に表示・操作できること
- タッチ操作に最適化されていること

#### 5.1.2 管理インターフェース

##### UI-4: GitHub Actions実行画面
- 必須要素:
    - ワークフロー実行ボタン
    - 実行ステータス表示
    - エラーメッセージ（発生時）

### 5.2 外部インターフェース

#### 5.2.1 Google Spreadsheet API

##### EI-1: CSV公開インターフェース
- 各シートをCSV形式で公開するURL
- 読み取り専用アクセス

#### 5.2.2 GitHub API

##### EI-2: GitHub Actions API
- ワークフロー実行のためのインターフェース
- 認証済みユーザーのみアクセス可能

## 6. 制約条件

### 6.1 規制対応
- 使用する楽曲情報に関する著作権法の遵守
- 個人情報保護法への対応（個人情報を含まないデータ構造）

### 6.2 ハードウェア制限
- サーバーレス構成のため、サーバー関連の制限なし
- ユーザー端末のWebブラウザ性能に依存

### 6.3 ソフトウェア制限
- GitHub Pages: 1GB容量制限
- GitHub Actions: 月2000分実行時間制限
- Spreadsheet: 制限なし（通常利用の範囲内）

## 7. 将来的な拡張性

### 7.1 計画されている機能拡張
- 楽曲リクエスト投稿機能（GitHub Issues利用）
- 歌唱履歴管理機能
- 複数Vtuber対応機能
- テーマカスタマイズ機能
- アクセス解析機能

### 7.2 技術的拡張性
- 他のホスティングサービス対応
- PWA（Progressive Web App）対応
- オフライン機能の追加

## 8. 付録

### 8.1 用語集
- **静的サイト**: サーバーサイドの処理を必要としないWebサイト
- **GitHub Actions**: GitHubが提供するCI/CDサービス
- **GitHub Pages**: GitHubが提供する静的サイトホスティングサービス
- **CSV**: カンマ区切りのテキストファイル形式
- **JSON**: JavaScript Object Notation、データ交換フォーマット
- **YAML**: 設定ファイルなどに使用されるデータシリアライズ形式

### 8.2 参考資料
- Google Spreadsheet API ドキュメント
- GitHub Pages ドキュメント
- GitHub Actions ドキュメント
