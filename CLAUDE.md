# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリのコードで作業する際のガイダンスを提供します。

**重要**: Claude Codeとのやり取りは**常に日本語で行ってください**。回答、説明、コメント、エラーメッセージなど、全ての出力を日本語で提供してください。

## プロジェクト概要

VtuneListは、VTuberが楽曲リストをWebサイトとして公開し、リスナーが検索・フィルタリングできる楽曲リクエスト管理システムです。データ管理にはGoogle Spreadsheet、ホスティングにはGitHub Pagesを使用しています。

## アーキテクチャ

### システムフロー
```
Google Spreadsheet（ジャンル別の複数シート）
  ↓ CSV公開URL
GitHub Actions（データ取得、変換、生成）  
  ↓ 静的サイト生成
GitHub Pages（Webサイトホスティング）
```

### 技術スタック
- **フロントエンド**: 静的HTML/CSS/JavaScript
- **データ処理**: GitHub Actions（Node.js/Python）
- **データ形式**: CSV → JSON変換
- **認証**: GitHubアカウント
- **開発環境**: Bun（JavaScriptランタイム）

## 開発コマンド

### 環境セットアップ
```bash
# Nixを使用（推奨）
nix develop
```

### 主要コマンド
これは主に静的サイトジェネレータープロジェクトのため、主な開発コマンドは：

- **開発**: 特定の開発サーバーコマンドはまだなし（静的ファイル）
- **パッケージ管理**: `bun install`（依存関係用）
- **依存関係管理**: `package.json`と`bun.lock`で管理

### GitHub Actions
プロジェクトでは以下の用途でGitHub Actionsを使用：
- Google Spreadsheet からのデータ取得（CSV形式）
- CSV から JSONへの変換
- 静的Webサイト生成
- GitHub Pagesへのデプロイ

## データ構造

### 入力（Google Spreadsheet）
各シートがジャンルを表し、以下の列を持つ：
- 楽曲名（必須）
- アーティスト（必須）  
- メモ（任意）

### 出力（JSON）
```json
{
  "categories": {
    "ジャンル名": [
      {
        "title": "楽曲名",
        "artist": "アーティスト名", 
        "note": "メモ"
      }
    ]
  },
  "updated_at": "2025-01-15T10:30:00Z"
}
```

### 設定
- `config.yml`: CSV公開URL、サイト設定、ジャンル設定を含む
- 複数のスプレッドシートソースと表示順序を管理

## 現在の開発状況

初期段階のプロジェクトで、以下を含む：
- `doc/`ディレクトリ内の計画文書
- 基本的なNode.js/Bun環境セットアップ
- 実装ファイルはまだ存在しない
- 詳細な要件とTODO計画が完了

## 主要ファイル

- `doc/CONCEPT.md`: プロジェクトのコンセプトとアーキテクチャ概要
- `doc/REQUIREMENTS.md`: 詳細な機能要件・非機能要件
- `doc/TODO.md`: 開発ロードマップとタスク分割
- `flake.nix`: Nix開発環境（Bunを提供）
- `package.json`: Node.js依存関係（現在は最小限）

## 開発に関する注意事項

- ターゲットユーザーは非技術者のVTuberのため、セットアップと使用が極めて簡単である必要がある
- システム全体が無料サービス（GitHub、Google Spreadsheet）で動作する
- セキュリティはGitHubリポジトリの権限と読み取り専用CSVアクセスで処理される
- 配信中に閲覧するリスナー（モバイルユーザー）のためレスポンシブデザインが必要
- サーバーサイド処理なし - 純粋な静的サイト生成

## Claude Code使用指針

### 言語設定
- **全ての回答と説明を日本語で行う**
- コードコメントも日本語で記述する
- エラーメッセージや説明も日本語で提供する
- 変数名やファイル名は英語でも構わないが、説明は日本語で行う

### コミュニケーション方針
- ユーザーとのやり取りは敬語を使用する
- 技術的な内容でも分かりやすい日本語で説明する
- 専門用語には必要に応じて説明を加える